---
slug: 代码整洁之道
title: 怎样的代码才是好代码
author: young-5
author_title: young-5 @ github
author_url: https://github.com/young5
tags: [代码规范]
---

### 代码规范

### 代码整洁之道

注重细节

1. 认真对待每一个命名
2. 耦合 内聚
3. code monkey
4. 知 行（知其原理原则 刻苦实践掌握）
5. 阅读大量代码 去研究代码好坏 分解 组合等等

#### 第一章：前言

1. 代码不会消失和被取代
2. 稍后等于永不（Later equals never ）
3. 开发现状 代码混乱 不愿修改 后期迭代 系统重构 人员流失 新人顶替。。。
4. 开发态度 不应该遵从不了解混乱风险的经理的意愿 是不专业的做法（代码项目糟糕 是自作自受 不应该全怪产品设计等）
5. 代码整洁才会提高开发进度
6. 做一个艺术家
7. 愉悦
8. 破窗理论
9. 细节体现：命名 单一原则 显而易见的解决问题的张力 提高表达力 只做一件事 越小越好 没有重复代码
10. 自己就是作者
11. 读 写 时间比例 (易读就是易写)
12. 签入要比签出更干净

#### 第二章：有意义的命名

1. 命名即注释
2. 避免魔法值
3. 避免误导（命名里含有错误的类型 相识度很高的词）
4. 有意义的区分 data 和 info 一样 a1 a2 相似 ，避免废话区分 name 和 nameString
5. 读的出来的名称
6. 可搜索的名称 避免 数字 字母命名
7. 避免加入前缀 如：M\_ \_等
8. 接口和实现 命名是体现它实现的功能还是 表现他功能特征？
9. 避免思维映射 命名直接 明确 直接
10. 合理使用名称 动词 等不同类型的词语或词短句 如功能函数是动词或动词短句（可加 get set is 前缀），类名应该是名称或者名称短句。
11. 别自作可爱 花样命名
12. 规范命名概念词（get fetch 需要区分概念）
13. 别双关 一词一意 如 add insert append
14. 专业领域的词
15. 添加有意义的语境

#### 第三章：函数

1. 短小 短小 更短小
2. if else while 应该只有一行 如函数调用，函数缩进不该多余一层或者 2 两层（不要有太多的嵌套结构）
3. 做一件事 做好这件事 只做一件事 单一原则（if 判断是否做了多个判断）
4. 每个函数一个抽象层级（自顶向下读代码：向下规则，）
5. 开放闭合原则
6. 使用描述性名称
7. 命名一致
8. 参数 0 1 无 3，参数避免超过 3 个（一元函数 二元函数），参数尽量少
9. 避免标识参数 即布尔形参数
10. 参数对象替代 3 元即以上的函数
11. 动词与关键词命名
12. 无副作用
13. try catch 异常代替错误码
14. 被重复自己
15. 结构化编程 单入单出
16. 死函数丢弃

#### 第四章 注释

优秀的代码大部分是可以自描述的，好于文档和注释

什么也比不上放置良好的注释来得有用。什么也不会比乱七八糟的注释更有本事搞乱一个模块。什么也不会比陈旧、提供错误信息的注释更有破坏性。

1. 注释需要维护，注释描述可能不准确
2. 注释不能美化糟糕的代码
3. 用代码来阐述
4. 对信息，意图的解释
5. 警示
6. 公共 api jsdoc
7. 注释要明确 ，避免多余 误导 废话 ，也不需要每条代码都注释
8. 不需要的代码 删除 不需要注释

#### 第四章 格式

pritter 格式化 视觉的间隔格式 垂直 水平 缩进 规则

#### 第五章 对象和数据结构

得墨忒耳律：模块不应该了解他所操作对象的内部情形

#### 第六章 错误处理

#### 第七章 边界处理

#### 第八章 单元测试

#### 第九章 类

1. 短小 更短小 衡量方法是： 计算权责
2. 单一权责原则 --- 只有一条修改的理由，分治
3. 内聚
4. 为修改而组织
